/*! wc_name_your_price 2.6.0 */

jQuery(document).ready(function(o){function i(o,i){return void 0===i&&(i=""),accounting.formatMoney(o,{symbol:i,decimal:woocommerce_nyp_params.currency_format_decimal_sep,thousand:woocommerce_nyp_params.currency_format_thousand_sep,precision:woocommerce_nyp_params.currency_format_num_decimals,format:woocommerce_nyp_params.currency_format}).trim()}function e(o){return Math.abs(parseFloat(accounting.unformat(o,woocommerce_nyp_params.currency_format_decimal_sep)))}o.fn.woocommerce_nyp_update=function(){if(o(this).on("woocommerce-nyp-update",function(){var n=o(this),t=n.find(".nyp"),r=n.find(".nyp-input"),c=n.find(":submit"),a=r.val(),m=n.find(".woocommerce-nyp-message");m.length||t.prepend('<div class="woocommerce-nyp-message woocommerce-error" style="display:none"></div>');var p=woocommerce_nyp_params.minimum_error,d=!1,s="",_=e(a),u=parseFloat(t.data("min-price")),l=parseFloat(t.data("annual-minimum")),f=n.find(".nyp-period"),y=f.val();l>0?(form_annulualized_price=_*woocommerce_nyp_params.annual_price_factors[y],form_annulualized_price<l&&(s=i(d=l/woocommerce_nyp_params.annual_price_factors[y],woocommerce_nyp_params.currency_format_symbol)+" / "+f.find('option[value="'+y+'"]').text())):_<u&&(s=i(d=u,woocommerce_nyp_params.currency_format_symbol)),""!=o.trim(a)&&r.val(i(_)),d?(c.prop("disabled",!0),p=p.replace("%%MINIMUM%%",s),m.html(p).slideDown(),r.focus()):(c.prop("disabled",!1),m.slideUp(),o(this).find("#product-addons-total").data("price",_),n.trigger("woocommerce-product-addons-update"),t.data("price",_),n.trigger("woocommerce-nyp-updated-item"),o("body").trigger("woocommerce-nyp-updated"))}),o(this).on("change",".nyp-input, .nyp-period",function(){o(this).closest(".cart").trigger("woocommerce-nyp-update")}),o(this).find("input.nyp-input").trigger("change"),o(this).hasClass("variations_form")){var n=o(this),t=o(this).find("button.single_add_to_cart_button"),r=o(this).find(".nyp"),c=r.find(".nyp-input"),a=r.find(".minimum-price"),m=r.find(".subscription-details"),p=t.html();r.hide(),a.hide(),n.on("found_variation",function(e,n){void 0!=typeof n.is_nyp&&1==n.is_nyp?(t.html(n.add_to_cart_text),posted_price=n.posted_price,initial_price=n.initial_price,minimum_price=n.minimum_price,""!=o.trim(posted_price)?c.val(i(posted_price)):""!=o.trim(initial_price)?c.val(i(initial_price)):c.val(""),m.length&&n.subscription_terms&&m.html(n.subscription_terms),n.minimum_price_html?a.html(n.minimum_price_html).show():a.hide(),r.data("min-price",minimum_price).slideDown("200"),o(this).find("#product-addons-total").data("price",minimum_price),o(this).trigger("woocommerce-product-addons-update")):(t.html(p),r.slideUp("200"))}).on("reset_image",function(o){t.html(p),r.slideUp("200")}).on("click",".reset_variations",function(o){t.html(p),r.slideUp("200")}),o(this).find(".variations select").trigger("change")}},o("body").on("quick-view-displayed",function(){o("body").find(".cart:not(.cart_group)").each(function(){o(this).woocommerce_nyp_update()})}),o("body .component").on("wc-composite-component-loaded",function(){o(this).find(".cart:not(.cart_group)").each(function(){o(this).woocommerce_nyp_update()})}),o("body").find(".cart:not(.cart_group)").each(function(){o(this).woocommerce_nyp_update()})});